/*
use a quick procedure to put the passports into one line instead of multiline
*/

drop table day04_example_passport_lines;
create table day04_example_passport_lines (full_passport varchar2(4000));

create or replace procedure day04_example_create_passport_lines as
  l_full_line varchar2(4000);
begin
  for i in (select xline from day04_example order by lineno) loop
    if i.xline is null then
      insert into day04_example_passports values (l_full_line);
      l_full_line:= null;
    else
      l_full_line:=l_full_line||' '||i.xline;
    end if;
  end loop;
end;
/

exec day04_example_create_passports;
commit;
select * from day04_example_passports;
